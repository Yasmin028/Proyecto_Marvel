{% extends 'base.html' %}

{% block content %}
<section class="section bg-estelar">
  <div class="container">
    <h1 class="title has-text-warning has-text-centered" style="font-size: 8rem;">ðŸŽ¬ DIRECTORES</h1>
  </div>

  <div class="columns is-multiline is-centered">
    {% for director in directores %}
      <div class="column is-one-third">
        <a href="/directores/{{ director.nombre }}/page">
          <div class="pelicula-card">

            <div class="pelicula-card-image">

              {% set imagen_url = director.imagen_url %}

              {% if imagen_url is none %}
                {% for pelicula in director.peliculas %}
                  {% if pelicula.imagen_url %}
                    {% set imagen_url = pelicula.imagen_url %}
                  {% endif %}
                {% endfor %}
              {% endif %}

              {% if imagen_url %}
                <img src="{{ imagen_url }}" alt="{{ director.nombre }}">
              {% else %}
                <div class="placeholder"><span class="placeholder-text">SIN IMAGEN</span></div>
              {% endif %}

            </div>

            <div class="pelicula-overlay">
              <h2 class="title is-3 has-text-warning pelicula-titulo">{{ director.nombre }}</h2>
            </div>

          </div>
        </a>
      </div>
    {% endfor %}
  </div>

  {% if directores|length == 0 %}
    <div class="has-text-centered">
      <p class="has-text-grey is-size-4">No hay directores registrados aÃºn.</p>
    </div>
  {% endif %}
</section>
{% endblock %}